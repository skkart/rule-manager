{"version":3,"sources":["reducers/index.js","reducers/rulesReducer.js","actions/types.js","reducers/formReducer.js","config/index.js","actions/index.js","helpers/RuleConfiguration.js","components/Dashboard.js","helpers/validators.js","components/Criteria.js","components/CriteriaJoin.js","components/RuleConfig.js","components/AppHeader.js","App.js","serviceWorker.js","index.js"],"names":["combineReducers","rules","state","action","type","payload","formRule","fetchRuleList","dispatch","a","axios","get","config","res","data","console","log","setRule","ruleObj","operators","value","label","criteriaToString","ctr","join","key","opr","connect","initRuleList","deleteRule","ruleId","success","delete","store","addNotification","title","message","insert","container","animationIn","animationOut","dismiss","duration","pauseOnHover","props","useState","loading","setLoading","length","useEffect","deleteRuleAction","rl","i","id","className","role","scope","style","width","map","name","conditions","onClick","history","push","editRuleAction","icon","faEdit","aria-hidden","faTrash","isRequired","Criteria","rule","form","setForm","formError","setFormError","validateError","error","val","test","attributeValidator","prevState","updateCriteria","e","target","newFrom","onChange","index","prop","optr","CriteriaJoin","setJoin","editRule","updatedRule","put","addRule","post","criteriaList","setCriteriaList","ruleName","setRuleName","preview","setPreview","updatedMdl","updateCriteriaJoin","joinVal","onRuleSubmit","aria-describedby","disabled","document","getElementsByClassName","newArr","toString","this","faPlus","withRouter","urlPath","useLocation","pathname","to","faCogs","indexOf","App","exact","path","component","Dashboard","RuleConfig","Boolean","window","location","hostname","match","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.08161e95.chunk.js","sourcesContent":["import {combineReducers} from 'redux';\nimport ruleReducer from './rulesReducer';\nimport formReducer from './formReducer';\n\nexport default combineReducers({\n  rules: ruleReducer, // rules list\n  formRule: formReducer // Add/Edit rule\n});","import {FETCH_RULES} from \"../actions/types\";\n\nexport default  function (state = null, action) {\n  switch (action.type) {\n    case FETCH_RULES:\n      return action.payload || [];\n    default:\n      return state;\n  }\n}","export const SET_RULE = 'set_rule';\nexport const RESET_RULE = 'reset_rule';\nexport const FETCH_RULES = 'fetch_rules';","import {SET_RULE} from \"../actions/types\";\n\nexport default  function (state = null, action) {\n  switch (action.type) {\n    case SET_RULE:\n      return action.payload || {};\n    default:\n      return null;\n  }\n}","export default {\n  // dummyApi: 'http://www.mocky.io/v2/5ebe9d123100009798c5d475',\n  dummyApi: 'http://www.mocky.io/v2/5ebeac3c310000af05c5d4df',\n  ruleApi: '/api/rule' // Actual REST API to implement in Backend to address /list, POST, PUT, DELETE\n}","import axios from 'axios'\nimport {FETCH_RULES, RESET_RULE, SET_RULE} from \"./types\"\nimport config from '../config'\nimport {store} from 'react-notifications-component'\n\n// Common Action to be used by Many dispatch actions like fetchRuleList,\nconst fetchRuleList = async (dispatch) => {\n  try {\n    const res = await axios.get(config.dummyApi)\n    if (res.data && res.data.rules) {\n      dispatch({type: FETCH_RULES, payload: res.data.rules})\n    }\n  } catch (e) {\n    console.log('Error', e)\n  }\n}\n\n//Action creator\nexport const initRuleList = () => fetchRuleList\n\n// Action to Set Rule on Add or Edit\nexport const setRule = (ruleObj) => async dispatch => {\n  dispatch({ type: SET_RULE, payload: ruleObj })\n}\n\nexport const resetRule = () => async dispatch => {\n  dispatch({ type: RESET_RULE, payload: null })\n}\n\n// Action to delete rule\n// API --> DELETE /api/rule/[ruleID]\nexport const deleteRule = (ruleId) => async dispatch => {\n  let success = true\n  try {\n    await axios.delete(`${config.ruleApi}/${ruleId}`)\n    // After delete reload the RuleList\n    await fetchRuleList(dispatch)\n  } catch (e) {\n    console.log('Error', e)\n    success = false\n  } finally {\n    store.addNotification({\n      title: success ? 'Success' : 'Error: Try Again later',\n      message: success ? 'Rule Deleted' : 'Delete Request failed',\n      type: success ? 'success' :'danger',\n      insert: 'top',\n      container: 'top-center',\n      animationIn: ['animated', 'fadeIn', 'jackInTheBox'],\n      animationOut: ['animated', 'fadeOut'],\n      dismiss: {\n        duration: 3000,\n        pauseOnHover: true\n      }\n    })\n  }\n}\n\n\n// Action to Edit rule\n// API --> PUT /api/rule/[ruleID]\nexport const editRule = (updatedRule) => async dispatch => {\n  let success = true\n  try {\n    await axios.put(`${config.ruleApi}/${updatedRule.id}`, updatedRule)\n    // After Edit reload the RuleList\n    await fetchRuleList(dispatch)\n  } catch (e) {\n    console.log('Error', e)\n    success = false\n  } finally {\n    store.addNotification({\n      title: success ? 'Success' : 'Error: Try Again later',\n      message: success ? 'Rule Updated' : 'Update Request failed',\n      type: success ? 'success' :'danger',\n      insert: 'top',\n      container: 'top-center',\n      animationIn: ['animated', 'fadeIn', 'jackInTheBox'],\n      animationOut: ['animated', 'fadeOut'],\n      dismiss: {\n        duration: 3000,\n        pauseOnHover: true\n      }\n    })\n  }\n}\n\n\n// Action to Add rule\n// API --> POST /api/rule\nexport const addRule = (addRule) => async dispatch => {\n  let success = true\n  try {\n    await axios.post(config.ruleApi, addRule)\n    // After Post reload the RuleList\n    await fetchRuleList(dispatch)\n  } catch (e) {\n    success = false\n    console.log('Error', e)\n  } finally {\n    store.addNotification({\n      title: success ? 'Success' : 'Error: Try Again later',\n      message: success ? 'Rule Added' : 'Add Request failed',\n      type: success ? 'success' :'danger',\n      insert: 'top',\n      container: 'top-center',\n      animationIn: ['animated', 'fadeIn', 'jackInTheBox'],\n      animationOut: ['animated', 'fadeOut'],\n      dismiss: {\n        duration: 3000,\n        pauseOnHover: true\n      }\n    })\n  }\n}","\nexport const operators = [\n  {\n    value: '>',\n    label: '>'\n  },\n  {\n    value: '<',\n    label: '<'\n  },\n  {\n    value: '>=',\n    label: '>='\n  },\n  {\n    value: '<=',\n    label: '<='\n  },\n  {\n    value: '=',\n    label: '='\n  },\n  {\n    value: '!=',\n    label: '!='\n  },\n  {\n    value: 'in',\n    label: 'in'\n  },\n  {\n    value: 'not in',\n    label: 'not in'\n  },\n  {\n    value: 'has',\n    label: 'has'\n  }\n]\n\nexport const criteriaToString = (ctr) => {\n  if (ctr.type === 'CriteriaJoin') {\n    return ctr.join ? ` ${ctr.join} ` : ''\n  }\n  return ctr.key ? `( ${ctr.key} ${ctr.opr} ${ctr.value} )` : ''\n}","import React, {useEffect, useState} from 'react'\nimport {connect} from 'react-redux'\nimport {initRuleList, deleteRule, setRule} from '../actions'\nimport {criteriaToString} from \"../helpers/RuleConfiguration\"\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faTrash, faEdit} from '@fortawesome/free-solid-svg-icons'\n\n\nfunction Dashboard(props) {\n  const [loading, setLoading] = useState(false)\n\n  const initRuleList = async () => {\n    try {\n      setLoading(true)\n      if (!props.rules || !props.rules.length) {\n        await props.initRuleList()\n      }\n    } catch (e) {\n      console.log('Failed to load user chats', e)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n\n  // On Mount, Call the Rule List to fetch all Rules from BE\n  useEffect(() => {\n    initRuleList()\n  }, [])\n\n  const renderEquation = (cond) => (\n    cond.map((ctr, i) => (<span key={i} className=\"m-1\">{criteriaToString(ctr)}</span>))\n  )\n\n  const editRuleAction = (rl, i) => {\n    props.setRule(rl)\n    props.history.push('/edit')\n  }\n\n  const deleteRuleAction = async (rl, i) => {\n    await props.deleteRule(rl.id)\n  }\n\n  const loadRuleTable = () => (\n    <div className=\"table-responsive-md mt-4\">\n      <table className=\"table table-info table-hover table-bordered\">\n        <thead className=\"thead-dark\">\n        <tr>\n          <th scope=\"col\">#</th>\n          <th scope=\"col\">Rule Name</th>\n          <th scope=\"col\">Conditions</th>\n          <th scope=\"col\" style={{width: '80px'}}>Action</th>\n        </tr>\n        </thead>\n        <tbody>\n        {props.rules && props.rules.map((rl, i) => (\n          <tr key={rl.id}>\n            <th scope=\"row\">{i}</th>\n            <td>{rl.name}</td>\n            <td>{renderEquation(rl.conditions)}</td>\n            <td>\n              <span className=\"m-1 mr-2 pointer\" onClick={() => editRuleAction(rl, i)}><FontAwesomeIcon icon={faEdit}\n                                                                                                  aria-hidden=\"true\"/></span>\n              <span className=\"m-1 pointer\" onClick={() => deleteRuleAction(rl, i)}><FontAwesomeIcon icon={faTrash}\n                                                                                               aria-hidden=\"true\"/></span>\n            </td>\n          </tr>\n        ))}\n        </tbody>\n      </table>\n    </div>\n  )\n\n  return (\n    <div className=\"dashbord\">\n      {\n        loading ? (\n          <div className=\"m-5 text-center\">\n            <div className=\"spinner-border text-primary text-center\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        ) : (\n          loadRuleTable()\n        )\n      }\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  rules: state.rules\n})\n\nexport default connect(\n  mapStateToProps,\n  {initRuleList, deleteRule, setRule})(Dashboard)","export const isRequired = (value) => {\n  if (!value) {\n    return 'This Field is required!'\n  }\n  return ''\n}\n\nexport const attributeValidator = (value) => {\n  let val = isRequired(value)\n  if (!val) {\n    let re = /^[a-zA-Z ]+$/\n    if (!re.test(value)) {\n      val = 'Should be simple word!'\n    }\n  }\n  return val\n}","import React, {useState, useEffect} from 'react'\nimport {operators} from \"../helpers/RuleConfiguration\";\nimport {attributeValidator, isRequired} from \"../helpers/validators\";\n\nexport default function Criteria(props) {\n  const [form, setForm] = useState({\n    key: props.rule.key,\n    value: props.rule.value,\n    opr: props.rule.opr,\n  })\n\n  const [formError, setFormError] = useState({\n    key: '',\n    value: '',\n    opr: ''\n  })\n\n  const validateError = (name, value) => {\n    let error = ''\n    switch (name) {\n      case 'key':\n        error = attributeValidator(value)\n        break\n      case 'value':\n        error = isRequired(value)\n        break\n      default:\n        error = isRequired(value)\n        break\n    }\n\n    setFormError(prevState => ({\n      ...prevState,\n      [name]: error\n    }))\n\n    return error\n  }\n\n  const updateCriteria = e => {\n    let { name, value } = e.target\n    const newFrom = {\n      ...form,\n      [name]: value\n    }\n    setForm(newFrom)\n    validateError(name, value)\n    props.onChange(props.index, newFrom)\n  }\n\n  useEffect(() => {\n    for (const prop in form) {\n      validateError(prop, form[prop])\n    }\n  }, [])\n\n\n  return (<div className=\"form-row rule-row\">\n    <div className=\"form-group col-md-4\">\n      <label>Config Attribute</label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        name=\"key\"\n        value={form.key}\n        onChange={updateCriteria}\n      />\n      {formError.key &&\n      <span className=\"error\">{formError.key}</span>}\n    </div>\n    <div className=\"form-group col-md-3\">\n      <label>Operation</label>\n      <select className=\"form-control\"\n              name=\"opr\"\n              value={form.opr}\n              onChange={updateCriteria}\n      >\n        <option value=\"\">Choose...</option>\n        {\n          operators.map(optr => (\n          <option key={optr.value}\n          value={optr.value}\n          label={optr.label} >\n          </option>))\n        }\n      </select>\n      {formError.opr &&\n      <span className=\"error\">{formError.opr}</span>}\n    </div>\n    <div className=\"form-group col-md-3\">\n      <label>Value</label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        name=\"value\"\n        value={form.value}\n        onChange={updateCriteria}\n      />\n      {formError.value &&\n      <span className=\"error\">{formError.value}</span>}\n    </div>\n  </div>)\n}","import React, {useState} from 'react'\n\nexport default function CriteriaJoin(props) {\n  const [join, setJoin] = useState(props.join)\n\n  const onJoinChange = (e) => {\n    setJoin(e.target.value)\n    props.onChange(props.index, e.target.value)\n  }\n\n  return (\n    <div className=\"text-center m-5\">\n      <div className=\"input-group ml-4\">\n        <div className=\"input-group-prepend\">\n          <label className=\"input-group-text\">Action</label>\n        </div>\n        <select className=\"custom-select\" value={join} onChange={onJoinChange}>\n          <option value=\"\">Choose ...</option>\n          <option value=\"and\">AND</option>\n          <option value=\"or\">OR</option>\n        </select>\n      </div>\n      {!join &&\n      <span className=\"error ml-5 float-left\">This condition is required!</span>}\n    </div>\n  )\n}","import React, {useEffect, useState} from 'react'\nimport {connect} from 'react-redux'\nimport Criteria from \"./Criteria\"\nimport CriteriaJoin from \"./CriteriaJoin\"\nimport { store } from 'react-notifications-component'\nimport {editRule, addRule} from '../actions'\nimport {criteriaToString} from \"../helpers/RuleConfiguration\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {faPlus} from '@fortawesome/free-solid-svg-icons'\n\nfunction RuleConfig(props) {\n  const [criteriaList, setCriteriaList] = useState([])\n  const [errorArr, setErrorArr] = useState([])\n  const [ruleName, setRuleName] = useState('')\n  const [preview, setPreview] = useState(false)\n\n\n  // On Mount, Call the Rule List to fetch all Rules from BE\n  useEffect(() => {\n    setRuleName(props.formRule && props.formRule.name)\n    setCriteriaList(props.formRule && props.formRule.conditions)\n  }, [])\n\n  const addCriteria = () => {\n    // Before ADD New Criteria, Validate for no errors in form\n    if (document.getElementsByClassName(\"error\").length) {\n      store.addNotification({\n        message: 'Please fix all the Error before new Criteria!!!',\n        type: 'warning',\n        insert: 'top',\n        container: 'top-center',\n        animationIn: ['animated', 'fadeIn', 'jackInTheBox'],\n        animationOut: ['animated', 'fadeOut'],\n        dismiss: {\n          duration: 3000,\n          pauseOnHover: true\n        }\n      })\n      return\n    }\n    let newArr = []\n    // If Criterias exists, Add JOIN condition & Criteria together\n    if (criteriaList.length > 0) {\n      newArr.push({\n        type: 'CriteriaJoin', toString() {\n          return this.join ? ` ${this.join} ` : ''\n        }\n      })\n    }\n    newArr.push({\n      type: 'Criteria', key: '', value: '', opr: ''\n    })\n    setCriteriaList([...criteriaList, ...newArr])\n  }\n\n  const updateCriteria = (index, updatedMdl) => {\n    criteriaList[index] = {...criteriaList[index], ...updatedMdl}\n  }\n\n  const updateCriteriaJoin = (index, joinVal) => {\n    criteriaList[index].join = joinVal\n  }\n\n  const clickPreview = () => {\n    if (document.getElementsByClassName(\"error\").length) {\n      // Show error\n      store.addNotification({\n        message: 'Please fix all the Error to Preview!!!',\n        type: 'danger',\n        insert: 'top',\n        container: 'top-center',\n        animationIn: ['animated', 'fadeIn', 'jackInTheBox'],\n        animationOut: ['animated', 'fadeOut'],\n        dismiss: {\n          duration: 3000,\n          pauseOnHover: true\n        }\n      })\n      return\n    }\n    setPreview(true)\n  }\n\n  const onRuleSubmit = async () => {\n    const ruleObj = {\n      id: props.formRule.id,\n      name: ruleName,\n      conditions: criteriaList\n    }\n    if (props.formRule.id) {\n      // Edit Flow\n      await props.editRule(ruleObj)\n    } else {\n      // Add Flow\n      await props.addRule(ruleObj)\n    }\n    props.history.push('/dashboard')\n  }\n\n  return (\n    <div className=\"card text-center\">\n      <div className=\"card-header\">\n        Rule ({props.formRule && props.formRule.id ? 'Edit' : 'Add'})\n      </div>\n      <div className=\"card-body\">\n        <div className=\"form-group\">\n          <div className=\"input-group col-md-4 p-0\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">Name</span>\n            </div>\n            <input type=\"text\" className=\"form-control\"\n                   aria-describedby=\"inputGroupPrepend\"\n                   disabled={!!preview}\n                   value={ruleName}\n                   onChange={(e) => setRuleName(e.target.value)}\n            />\n          </div>\n          {!ruleName &&\n          <span className=\"error ml-3 float-left\">This field is required!</span>}\n        </div>\n        <div className=\"ruleConfig mt-5 mb-5\">\n          {\n            !preview ? (criteriaList.map((ctr, i) => (\n                ctr.type === 'Criteria' ?\n                  <Criteria rule={ctr} index={i} key={i} onChange={updateCriteria}/> :\n                  <CriteriaJoin join={ctr.join} index={i} key={i} onChange={updateCriteriaJoin}/>\n              )))\n              :\n              (<div className=\"card bg-light mb-3\">\n                <div className=\"card-header\">Rule Conditions</div>\n                <div className=\"card-body\">\n                  <p className=\"card-text\">\n                    {criteriaList.map((ctr, i) => (<span key={i} className=\"m-1\">{criteriaToString(ctr)}</span>))}\n                  </p>\n                </div>\n              </div>)\n          }\n        </div>\n        {!preview && <a className=\"btn btn-success\" onClick={addCriteria}><FontAwesomeIcon icon={faPlus} aria-hidden=\"true\"/> Criteria</a>}\n      </div>\n      <div className=\"card-footer text-muted\">\n        {\n          !preview ?\n            [<button key={1} type=\"button\" className=\"btn btn-danger float-left\" onClick={() => props.history.push('/dashboard')}>Cancel</button>,\n              <button key={2} type=\"button\" className=\"btn btn-primary float-right\" onClick={clickPreview}>Preview</button>]\n            :\n            [<button key={3} type=\"button\" className=\"btn btn-danger float-left\" onClick={() => setPreview(false)}>Back</button>,\n              <button key={4} type=\"button\" className=\"btn btn-success float-right\" onClick={onRuleSubmit}>Submit</button>]\n        }\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  formRule: state.formRule\n})\n\nexport default connect(\n  mapStateToProps,\n  {editRule, addRule})(RuleConfig)","import React from 'react'\nimport {connect} from 'react-redux'\nimport {useLocation, Link, withRouter} from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {faPlus, faCogs} from '@fortawesome/free-solid-svg-icons'\nimport {setRule} from \"../actions\"\n\n\nfunction AppHeader(props) {\n\n  const addRule = async () => {\n    await props.setRule({\n      name: '',\n      conditions: []\n    })\n    props.history.push('/add')\n  }\n\n  const location = useLocation()\n  const urlPath = location.pathname\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <Link className=\"navbar-brand\" to=\"/dashboard\"> <FontAwesomeIcon icon={faCogs} aria-hidden=\"true\"/> Rule Manager</Link>\n      {\n        urlPath.indexOf('/add') === -1 &&\n        <button type=\"button\"\n                className=\"btn btn-success float-right add-button\"\n                onClick={addRule}>\n          <FontAwesomeIcon icon={faPlus} aria-hidden=\"true\"/>\n        </button>\n      }\n    </nav>\n  )\n}\n\nexport default connect(\n  null,\n  {setRule})(withRouter(AppHeader))","import React from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\n// Load Bootstrap for\nimport 'bootstrap/dist/js/bootstrap';\n//Load notification\nimport ReactNotification from 'react-notifications-component';\n\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\nimport 'react-notifications-component/dist/theme.css'\n\nimport './App.css';\nimport Dashboard from \"./components/Dashboard\";\nimport RuleConfig from \"./components/RuleConfig\";\nimport AppHeader from \"./components/AppHeader\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className=\"container\">\n        <ReactNotification />\n        <AppHeader/>\n        <Route exact={true} path=\"/\" component={Dashboard}/>\n        <Route exact={true} path=\"/dashboard\" component={Dashboard}/>\n        <Route exact path=\"/add\" component={RuleConfig}/>\n        <Route exact path=\"/edit\" component={RuleConfig}/>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux' // provider is a component that makes the store accessinle to all cmpt in app\nimport { createStore, applyMiddleware } from 'redux'\nimport reduxThunk from 'redux-thunk'\nimport reducers from './reducers'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk))\n\nconst initReactApp = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>,\n    document.getElementById('root'),\n  )\n}\n\n\ninitReactApp()\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}